<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>FantasyIA Home</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" href="/css/style.css"/>
</head>
<body>
<h1>Dynasty Mendoza Baseball League</h1>
<div th:if="${currentUser != null}">
    <p>Welcome, <span th:text="${currentUser.username}">User</span>!</p>
    <div style="margin: 20px 0;">
        <p><a th:href="@{/team}" style="background: #28a745; color: white; padding: 10px 15px; text-decoration: none; border-radius: 4px; display: inline-block; margin-right: 10px;">ğŸ“Š View My Team</a></p>
        <p><a th:href="@{/auction/view}" style="background: #007bff; color: white; padding: 10px 15px; text-decoration: none; border-radius: 4px; display: inline-block; margin-right: 10px;">ğŸ† Player Auction</a></p>
    </div>
    
    <!-- Commissioner-only features -->
    <div th:if="${currentUser.role == 'COMMISSIONER'}" style="margin: 20px 0;">
        <p>
            <a th:href="@{/auction/manage}" style="background: #e74c3c; color: white; padding: 10px 15px; text-decoration: none; border-radius: 4px; display: inline-block; position: relative;">
                âš™ï¸ Manage Auction
                <span th:if="${pendingReleasedPlayersCount != null and pendingReleasedPlayersCount > 0}" 
                      style="position: absolute; top: -8px; right: -8px; background: #ffc107; color: #000; font-weight: bold; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-size: 0.85em; border: 2px solid white;"
                      th:text="${pendingReleasedPlayersCount}">
                    0
                </span>
            </a>
        </p>
        <p th:if="${pendingReleasedPlayersCount != null and pendingReleasedPlayersCount > 0}" 
           style="color: #856404; font-size: 0.9em; margin-top: 10px;">
            ğŸ”” <span th:text="${pendingReleasedPlayersCount}">0</span> player(s) pending approval in the release queue
        </p>
    </div>
    
    <p><a th:href="@{/logout}">Logout</a></p>
</div>
<div th:if="${currentUser == null}">
    <p>Welcome to the Mendoza Baseball League. <a th:href="@{/login}">Login</a> to get started!</p>
    <p><a th:href="@{/auction/view}" style="color: #007bff;">View Current Player Auction</a></p>
</div>
</body>
</html>